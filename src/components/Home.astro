---
import DownloadIcon from '../components/icons/DownloadIcon.astro';
import Socials from '../components/Socials.astro';
import Photo from '../components/Photo.tsx';
---

<section class="esconder container mx-auto" id="top">
	<div class="flex flex-col items-center justify-between lg:flex-row lg:pt-8">
		<div class="order-2 text-center lg:order-none xl:text-left">
			<span class="text-xl">Desarrollador Software</span>
			<h1 class="h1 mb-6">
				Hola! Soy <br />
				<span class="text-purple-600">Sergio Ballesteros</span>
			</h1>
			<p class="mb-9 max-w-[500px] text-white/80">
				Soy un desarrollador junior con experiencia en desarrollo web y móvil.
				Me apasiona la tecnología y la programación, y me encanta aprender cosas
				nuevas.
			</p>

			<p class="mb-9 max-w-[500px] text-white/80">
				correo:
				<span
					class="font-bold text-accent hover:cursor-pointer hover:underline"
					id="email"
				>
					serbalced@gmail.com
				</span>
			</p>

			<!-- btn and socials -->
			<div class="flex flex-col items-center gap-8 lg:flex-row">
				<a href="/CV_SergioBallesteros.pdf" download="CV_SergioBallesteros.pdf">
					<button
						class="btn btn-outline btn-accent flex items-center gap-2 rounded-full uppercase"
					>
						<span>Descargar CV</span>
						<DownloadIcon class="size-6" />
					</button>
				</a>

				<div class="mb-8 xl:mb-0">
					<Socials
						containerStyles="flex gap-6"
						iconStyles="w-12 h-12 p-auto border border-accent rounded-full flex justify-center items-center text-accent text-base hover:bg-accent hover:text-white hover:transition-all duration-500"
					/>
				</div>
			</div>
		</div>

		<div class="relative order-1 lg:order-none">
			<Photo client:load />
		</div>
	</div>

	<!-- <div class="bg-accent"></div> -->
</section>

<script>
	const showNotification = () => {
		const toast = document.createElement('div');
		toast.className = 'toast toast-top toast-center';
		toast.innerHTML = `
			<div class="alert bg-accent">
      	<span>Correo copiado al portapapeles.</span>
      </div>
		`;

		document.body.appendChild(toast);

		setTimeout(() => {
			toast.remove();
		}, 3000);
	};

	const copyEmail = () => {
		const email = document.getElementById('email');
		email?.addEventListener('click', () => {
			navigator.clipboard
				.writeText(email.innerText)
				.then(() => {
					showNotification();
				})
				.catch(err => {
					console.error('Error copying email', err);
				});
		});
	};

	document.addEventListener('DOMContentLoaded', copyEmail);
</script>
